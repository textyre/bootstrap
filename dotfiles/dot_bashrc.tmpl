{{- $t := index .themes .theme_name -}}
# ~/.bashrc — Generated by chezmoi — DO NOT EDIT DIRECTLY

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# ---- History ----
HISTSIZE=10000
HISTFILESIZE=10000
HISTCONTROL=ignoreboth:erasedups
shopt -s histappend

# ---- Shell options ----
shopt -s checkwinsize
shopt -s globstar 2>/dev/null
shopt -s cdspell 2>/dev/null

# ---- PATH ----
[[ ":$PATH:" != *":$HOME/.local/bin:"* ]] && export PATH="$HOME/.local/bin:$PATH"

# ---- Environment variables ----
export EDITOR="nvim"
export VISUAL="nvim"
export TERMINAL="alacritty"
export BROWSER="firefox"
export LANG="en_US.UTF-8"
export BAT_THEME="{{ $t.bat_theme }}"

# ---- Aliases ----
alias ls='ls --color=auto'
alias ll='ls -lah --color=auto'
alias la='ls -A --color=auto'
alias l='ls -CF --color=auto'
alias grep='grep --color=auto'
alias df='df -h'
alias du='du -h'
alias free='free -h'
alias gs='git status'
alias gl='git log --oneline -20'
alias gd='git diff'
alias cat='bat --paging=never --style=plain'
alias vim='nvim'

# ---- Completions ----
if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
fi

# ---- FZF integration ----
if command -v fzf &>/dev/null; then
    eval "$(fzf --bash 2>/dev/null)" || true
    export FZF_DEFAULT_OPTS="
        --color=bg+:{{ $t.bg_light }},fg+:{{ $t.fg }},hl:{{ $t.accent }},hl+:{{ $t.accent2 }}
        --color=info:{{ $t.info }},prompt:{{ $t.accent }},pointer:{{ $t.accent2 }},marker:{{ $t.success }}
        --color=spinner:{{ $t.accent }},header:{{ $t.fg_dim }},gutter:-1
        --border rounded --margin 1 --padding 1"
fi

# ---- Starship prompt ----
if command -v starship &>/dev/null; then
    eval "$(starship init bash)"
else
    PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
fi
