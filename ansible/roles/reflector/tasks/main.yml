---
- name: Ensure host is Arch Linux
  ansible.builtin.assert:
    that:
      - ansible_facts['os_family'] is defined
      - ansible_facts['os_family'] == 'Archlinux'
    fail_msg: "This role supports Arch Linux only"

- name: Install reflector
  ansible.builtin.import_tasks: install.yml

- name: Configure reflector
  ansible.builtin.import_tasks: configure.yml

- name: Enable reflector timer
  ansible.builtin.import_tasks: service.yml

- name: Update mirrorlist
  ansible.builtin.import_tasks: update.yml
