---
# === power_management â€” handlers ===

- name: Restart tlp
  listen: "restart tlp"
  ansible.builtin.service:
    name: tlp
    state: restarted
  when: power_management_is_laptop | default(false)

- name: Reload systemd-logind
  listen: "reload systemd-logind"
  ansible.builtin.systemd:
    name: systemd-logind
    state: reloaded
  when: power_management_init | default('') == 'systemd'

- name: Reload udev rules
  listen: "reload udev rules"
  ansible.builtin.command: udevadm control --reload-rules
  changed_when: false
