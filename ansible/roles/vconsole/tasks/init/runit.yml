---
# === Console keymap: runit ===
# /etc/rc.conf KEYMAP= (Void Linux)

- name: Set console keymap (runit)
  ansible.builtin.lineinfile:
    path: /etc/rc.conf
    regexp: '^#?\s*KEYMAP='
    line: "KEYMAP={{ _vconsole_value }}"
    create: true
    owner: root
    group: root
    mode: '0644'
  notify: apply vconsole
  tags: ['vconsole']

- name: Set console font (runit)
  ansible.builtin.lineinfile:
    path: /etc/rc.conf
    regexp: '^#?\s*FONT='
    line: "FONT={{ vconsole_console_font }}"
    owner: root
    group: root
    mode: '0644'
  when: vconsole_console_font | default('') | length > 0
  notify: apply vconsole
  tags: ['vconsole']
