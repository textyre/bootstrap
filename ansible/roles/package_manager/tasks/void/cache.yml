---
# === Void Linux: cache cleanup via cron ===
# Void Linux uses runit, not systemd â€” cache cleanup via cron

- name: Schedule xbps cache cleanup via cron
  ansible.builtin.cron:
    name: "xbps cache cleanup"
    minute: "{{ package_manager_xbps_cache_cron_minute }}"
    hour: "{{ package_manager_xbps_cache_cron_hour }}"
    weekday: "{{ package_manager_xbps_cache_cron_weekday }}"
    job: "/usr/bin/xbps-remove -O"
    user: root
    state: "{{ package_manager_xbps_cache_cleanup_enabled | ternary('present', 'absent') }}"
  tags: ['packages', 'xbps-cache']
