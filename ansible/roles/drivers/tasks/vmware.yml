---
# === VMware Guest Tools (open-vm-tools) ===

- name: "VMware: Install guest packages"
  ansible.builtin.package:
    name: "{{ packages_vmware_guest }}"
    state: present
  when: packages_vmware_guest | length > 0
  tags: ['drivers', 'vmware']

- name: "VMware: Enable vmtoolsd service"
  ansible.builtin.systemd:
    name: vmtoolsd
    enabled: true
    state: started
  tags: ['drivers', 'vmware']

- name: "VMware: Report"
  ansible.builtin.debug:
    msg: "VMware guest tools installed and vmtoolsd enabled"
  tags: ['drivers', 'vmware']
