---
# === git â€” global hooks directory (system layer) ===
# Creates the directory only. Hook scripts are deployed by dotfiles/chezmoi.

- name: Ensure global hooks directory exists
  ansible.builtin.file:
    path: "{{ git_hooks_path }}"
    state: directory
    owner: "{{ _git_current_user.name }}"
    mode: "0755"
  loop: "{{ [git_owner] + git_additional_users }}"
  loop_control:
    loop_var: _git_current_user
    label: "{{ _git_current_user.name }}"
  when: git_manage_hooks | bool
  tags: [git, hooks]
