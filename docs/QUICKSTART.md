# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ Arch —Å–µ—Ä–≤–µ—Ä —Å Windows.

## –®–∞–≥ 0: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ß—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏:

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–¥–∏–Ω —Ä–∞–∑)
.\setup_ssh_key.ps1
```

–í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å **–û–î–ò–ù –†–ê–ó**, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏!

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **`sync_to_server.ps1`** –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–∏ 3 —Å—Ç—Ä–æ–∫–∏:

```powershell
$SERVER_USER = "user"                    # ‚Üê –í–∞—à –ª–æ–≥–∏–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
$SERVER_HOST = "192.168.1.100"           # ‚Üê IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
$REMOTE_PATH = "/home/user/scripts" # ‚Üê –ü–∞–ø–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

## –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª **`sync_to_server.bat`**

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ PowerShell

```powershell
cd d:\projects\arch
.\sync_to_server.ps1
```

## –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Bootstrap –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ bootstrap:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@192.168.1.100

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É
cd scripts/bootstrap

# === –†–ï–ñ–ò–ú–´ BOOTSTRAP ===

# –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∑–µ—Ä–∫–∞–ª–∞ + –ø–∞–∫–µ—Ç—ã + –∫–æ–Ω—Ñ–∏–≥ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
./bootstrap.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ –ø–æ–∏—Å–∫ –∑–µ—Ä–∫–∞–ª
./bootstrap.sh --install

# –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç Python 3)
./bootstrap.sh --deploy

# –í–∞—Ä–∏–∞–Ω—Ç 4: –° –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –≤ /opt/myenv
./bootstrap.sh --install --externals /opt/myenv

# –í–∞—Ä–∏–∞–Ω—Ç 5: –ö–æ–Ω—Ñ–∏–≥ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
./bootstrap.sh --deploy --externals /opt/myenv
```

### –†–µ–∂–∏–º—ã Bootstrap

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `./bootstrap.sh` | **–ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: –ø–æ–∏—Å–∫ –∑–µ—Ä–∫–∞–ª + —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ + –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| `./bootstrap.sh --install` | **–¢–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: –ø–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–µ—Ä–∫–∞–ª –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Ö–æ—Å—Ç |
| `./bootstrap.sh --deploy` | **–¢–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (dotfiles, LightDM). –¢—Ä–µ–±—É–µ—Ç Python 3 |
| `./bootstrap.sh --install --deploy` | –¢–æ –∂–µ, —á—Ç–æ `./bootstrap.sh` (—è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤) |
| `./bootstrap.sh --externals /path` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–º–µ—Å—Ç–æ —Ö–æ—Å—Ç–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å `--install` –∏ `--deploy`) |

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–µ–∂–∏–º–æ–≤

- **`--install`** —Ç—Ä–µ–±—É–µ—Ç: `sudo` –¥–æ—Å—Ç—É–ø, `pacman`, `reflector`
- **`--deploy`** —Ç—Ä–µ–±—É–µ—Ç: `python3` (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω), –ø–∞–∫–µ—Ç—ã –∏–∑ `--install` (–∏–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
- **`--externals`** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–æ–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## –®–∞–≥ 4: –î—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏ –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd scripts
./show_installed_packages.sh

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
./show_all_dependencies.sh

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
./show_installed_packages.sh > packages.txt
```

## üéØ –ß—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è?

- ‚úÖ `scripts/` - –≤—Å–µ bash –∏ python —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è bootstrap
- ‚úÖ `docs/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `README.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ùå `*.ps1` - Windows —Å–∫—Ä–∏–ø—Ç—ã –ù–ï –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
- ‚ùå `.git` - Git —Ñ–∞–π–ª—ã –ù–ï –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è

## üí° –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞:

```powershell
.\sync_to_server.ps1
```

–ü–µ—Ä–µ–¥–∞–¥—É—Ç—Å—è **—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω rsync)!

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ rsync (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ rsync:

```powershell
# –ß–µ—Ä–µ–∑ winget
winget install rsync

# –ò–ª–∏ —á–µ—Ä–µ–∑ Git Bash (—É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ Git for Windows)
```

–ë–µ–∑ rsync –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑.

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### "Permission denied" –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞:

```powershell
.\setup_ssh_key.ps1
```

### "Command not found: rsync"

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ scp.

### Bootstrap —Ç—Ä–µ–±—É–µ—Ç Python 3 –ø—Ä–∏ `--deploy`

–≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--install` —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python:

```bash
./bootstrap.sh --install
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
sudo pacman -S python
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
=========================================
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Arch —Å–µ—Ä–≤–µ—Ä–æ–º
=========================================

–õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞:  D:\projects\arch
–£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: user@192.168.1.100
–£–¥–∞–ª–µ–Ω–Ω—ã–π –ø—É—Ç—å:   /home/user/scripts

‚úì –ò—Å–ø–æ–ª—å–∑—É–µ–º rsync (–ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

sending incremental file list
show_installed_packages.sh
          1,234 100%    1.18MB/s    0:00:00
show_all_dependencies.sh
          2,345 100%    2.24MB/s    0:00:00

‚úì –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ...

=========================================
–ì–æ—Ç–æ–≤–æ!
=========================================
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

